{"version":3,"sources":["../src/angular-switchery.js"],"names":["window","angular","undefined","requestAnimFrame","requestAnimationFrame","webkitRequestAnimationFrame","mozRequestAnimationFrame","oRequestAnimationFrame","msRequestAnimationFrame","callback","element","setTimeout","module","directive","$timeout","$parse","require","restrict","scope","checked","link","$scope","$element","$attrs","ngModel","renderSwitch","drawSwitch","_switch","Switchery","options","console","log","onchange","setPosition","$apply","$setViewValue","ngSwitchery","$watch","state","oldState"],"mappings":";;CAKA,SAAUA,EAAQC,EAASC,GAEvB,YAEAF,GAAOG,iBAAmB,WACtB,MAAOH,GAAOI,uBACVJ,EAAOK,6BACPL,EAAOM,0BACPN,EAAOO,wBACPP,EAAOQ,yBACP,SAASC,EAAUC,GACfV,EAAOW,WAAWF,EAAU,IAAO,QAI/CR,EACKW,OAAO,wBACPC,UAAU,eAAgB,WAAY,SACnC,SAA4BC,EAAUC,GAClC,OACIC,QAAW,UACXC,SAAY,KACZC,OACIC,QAAW,YAEfC,KAAQ,SAAuBC,EAAQC,EAAUC,EAAQC,GASrD,QAASC,KACLzB,EAAOG,iBAAiBuB,GAG5B,QAASA,KAEAC,IACDA,EAAU,GAAI3B,GAAO4B,UAAUN,EAAS,GAAIO,GAC5CC,QAAQC,IAAI,gCAAiCF,IAGjDF,EAAQjB,QAAQS,QAAUE,EAAOF,QAEjCQ,EAAQjB,QAAQsB,SAAW,KAE3BL,EAAQM,aAAY,GAEpBN,EAAQjB,QAAQsB,SAAW,WACvBX,EAAOa,OAAO,WAEVV,EAAQW,cAAcR,EAAQjB,QAAQS,YA5BlD,IAAKK,EACD,OAAO,CAGX,IAAIG,GAEAE,EAAWN,GAAUA,EAAOa,YAAerB,EAAOQ,EAAOa,aAAaf,KA2B1EA,GAAOgB,OAAO,UAAW,SAASC,EAAOC,GACjCD,IAAUC,GACVd,MAIRA,UAMrBzB,OAAQA,OAAOC","file":"angular-switchery.min.js","sourcesContent":["/**\n * angular-switchery v1.0.0\n * Natan Santolo <natan.santolo@gmail.com>\n * License: MIT\n */\n(function(window, angular, undefined) {\n\n    'use strict';\n\n    window.requestAnimFrame = (function() {\n        return window.requestAnimationFrame ||\n            window.webkitRequestAnimationFrame ||\n            window.mozRequestAnimationFrame ||\n            window.oRequestAnimationFrame ||\n            window.msRequestAnimationFrame ||\n            function(callback, element) {\n                window.setTimeout(callback, 1000 / 60);\n            };\n    })();\n\n    angular\n        .module('angular.switchery', [])\n        .directive('ngSwitchery', ['$timeout', '$parse',\n            function switcheryDirective($timeout, $parse) {\n                return {\n                    'require': 'ngModel',\n                    'restrict': 'AE',\n                    'scope': {\n                        'checked': '=ngModel'\n                    },\n                    'link': function switcheryLink($scope, $element, $attrs, ngModel) {\n                        if (!ngModel) {\n                            return false;\n                        }\n                        // switch instance\n                        var _switch;\n                        // switcher options\n                        var options = ($attrs && $attrs.ngSwitchery) ? $parse($attrs.ngSwitchery)($scope) : {};\n                        // switcher render function\n                        function renderSwitch() {\n                            window.requestAnimFrame(drawSwitch);\n                        }\n                        // switcher draw function\n                        function drawSwitch() {\n                            // if needed create new instance\n                            if (!_switch) {\n                                _switch = new window.Switchery($element[0], options);\n                                console.log('switcher created with options', options);\n                            }\n                            // save model state\n                            _switch.element.checked = $scope.checked;\n                            // reset handler\n                            _switch.element.onchange = null;\n                            // set switcher position\n                            _switch.setPosition(false);\n                            // when switcher change\n                            _switch.element.onchange = function() {\n                                $scope.$apply(function() {\n                                    // update the model\n                                    ngModel.$setViewValue(_switch.element.checked);\n                                });\n                            };\n                        }\n                        // when the model changes, render switcher\n                        $scope.$watch('checked', function(state, oldState) {\n                            if (state !== oldState) {\n                                renderSwitch();\n                            }\n                        });\n                        // render switch\n                        renderSwitch();\n                    }\n                };\n            }\n        ]);\n\n})(window, window.angular);"]}